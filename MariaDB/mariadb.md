# Maria DB
website: https://mariadb.org/  
A fork of mysql, yet so much better than mysql and the two remain very compatabile.  

## My setup
I run mariadb 10.5 in a docker image. I used docker-compose to create the image, the following `compose.yml` file has an external volume mount from a previous mariadb image I was unable to recover.  
```yaml
version: '3'
services:
  db:
    image: mariadb:10.5List
    container_name: mariaDB-nextcloud
    ports:
      - "3306:3306"
    volumes:
      - NextCloudDB-Volume:/var/lib/mysql
      - /etc/localtime:/etc/localtime:ro
    environment:
      - MYSQL_ROOT_PASSWORD
      - MYSQL_PASSWORD
      - MYSQL_DATABASE
      - MYSQL_USER
    restart: unless-stopped
volumes:
  NextCloudDB-Volume:
    external: true
    name: NextCloudDB-Volume
```  
The image makes use of a `.env` file in the same directory as the `compose.yml` to store database secrets. 

## Documentation for 10.5
Link - https://mariadb.com/docs/skysql/ref/es10.5/

## Shell interface
Docker only has the root user, use `mysql -p` to get to root mariadb shell. Or specifiy the database user and database it has permission 
on. `mysql -user=Different_User -p database_name`

### Common commands: 

- `show databases;`
  - Lists all databases
- `SELECT host, user FROM mysql.user;`
  - Lists all users and their host. 
- `CREATE user username@hostIPaddress identified by 'your-password'`
  - Creates new user from specified IP address, authenticated by chosen password, you can also use the password hash rather than plain text.  

## Backup database (Docker)
To create a dump of the database you can later restore from, use the following command from the docker host:  
`sudo docker exec mariaDB-docker-image sh -c 'exec mariadb-dump --all-databases -uroot -p"$MYSQL_ROOT_PASSWORD"' > /path/on/host/for/backups/all-databases.sql` 
- This will not prompt for password, you will have to type it into the command.  

Documentation on this here: https://mariadb.com/kb/en/mariadb-dumpmysqldump/

### mariaDB-dump / mysqldump Options List
<table><tbody><tr><th>Option</th><th>Description</th></tr>
<tr><td><code>--all</code></td><td>Deprecated. Use <code>--create-options</code> instead.</td></tr>
<tr><td><code>-A</code>, <code>--all-databases</code></td><td>Dump all the databases. This will be same as <code>--databases</code> with all databases selected.</td></tr>
<tr><td><code>-Y</code>, <code>--all-tablespaces</code></td><td>Dump all the tablespaces.</td></tr>
<tr><td><code>-y</code>, <code>--no-tablespaces</code></td><td>Do not dump any tablespace information.</td></tr>
<tr><td><code>--add-drop-database</code></td><td>Add a <a href="https://mariadb.com/kb/en/drop-database/">DROP DATABASE</a> before each create. Typically used in conjunction with the <code>--all-databases</code> or <code>--databases</code> option because no <a href="https://mariadb.com/kb/en/create-database/">CREATE DATABASE</a> statements are written unless one of those options is specified.</td></tr>
<tr><td><code>--add-drop-table</code></td><td>Add a <a href="https://mariadb.com/kb/en/drop-table/">DROP TABLE</a> before each create.</td></tr>
<tr><td><code>--add-drop-trigger</code></td><td>Add a <a href="https://mariadb.com/kb/en/drop-trigger/">DROP TRIGGER</a> statement before each <a href="https://mariadb.com/kb/en/create-trigger/">CREATE TRIGGER</a>. From <a href="https://mariadb.com/kb/en/mariadb-1026-release-notes/">MariaDB 10.2.6</a>.</td></tr>
<tr><td><code>--add-locks</code></td><td>Add locks around <a href="https://mariadb.com/kb/en/insert/">INSERT</a> statements, which results in faster inserts when the dump file is reloaded. Use <code>--skip-add-locks</code> to disable.</td></tr>
<tr><td><code>--allow-keywords</code></td><td>Allow creation of column names that are keywords. This works by prefixing each column name with the table name.</td></tr>
<tr><td><code>--apply-slave-statements</code></td><td>Adds <a href="https://mariadb.com/kb/en/stop-slave/">STOP SLAVE</a> prior to <a href="https://mariadb.com/kb/en/change-master-to/">CHANGE MASTER</a> and <a href="https://mariadb.com/kb/en/start-slave/">START SLAVE</a> to bottom of dump.</td></tr>
<tr><td><code>--as-of</code></td><td>Dump <a href="https://mariadb.com/kb/en/system-versioned-tables/">system versioned table</a> as of specified timestamp. From <a href="https://mariadb.com/kb/en/mariadb-1070-release-notes/">MariaDB 10.7.0</a>.</td></tr>
<tr><td><code>--character-sets-dir=name</code></td><td>Directory for <a href="https://mariadb.com/kb/en/data-types-character-sets-and-collations/">character set</a> files.</td></tr>
<tr><td><code>-i</code>, <code>--comments</code></td><td>Write additional information in the dump file such as program version, server version, and host. Disable with <code>--skip-comments</code>.</td></tr>
<tr><td><code>--compact</code></td><td>Give less verbose output (useful for debugging). Disables structure comments and header/footer constructs. Enables the <code>--skip-add-drop-table</code>, <code>--skip-add-locks</code>, <code>--skip-comments</code>, <code>--skip-disable-keys</code>, and <code>--skip-set-charset</code> options.</td></tr>
<tr><td><code>--compatible=name</code></td><td>Change the dump to be compatible with a given mode. By default tables are dumped in a format optimized for MariaDB and MySQL. Legal modes are: <code>ansi</code>, <code>mysql323</code>, <code>mysql40</code>, <code>postgresql</code>, <code>oracle</code>, <code>mssql</code>, <code>db2</code>, <code>maxdb</code>, <code>no_key_options</code>, <code>no_table_options</code>, and <code>no_field_options</code>. One can use several modes separated by commas.<br><br>This option does not guarantee compatibility with other servers. It only enables those SQL mode values that are currently available for making dump output more compatible. For example, <code>--compatible=oracle</code> does not map data types to Oracle types or use Oracle comment syntax.<br><br></td></tr>
<tr><td><code>-c</code>, <code>--complete-insert</code></td><td>Use complete <a href="https://mariadb.com/kb/en/insert/">INSERT</a> statements that include column names.</td></tr>
<tr><td><code>-C</code>, <code>--compress</code></td><td>Use compression in server/client protocol. Both client and server must support compression for this to work.</td></tr>
<tr><td><code>--copy-s3-tables</code></td><td>By default <a href="https://mariadb.com/kb/en/s3-storage-engine/">S3</a> tables are ignored. With this option set, the result file will contain a CREATE statement for a similar <a href="https://mariadb.com/kb/en/aria-storage-engine/">Aria</a> table, followed by the table data and ending with an <code>ALTER TABLE xxx ENGINE=S3</code>. From <a href="https://mariadb.com/kb/en/mariadb-1050-release-notes/">MariaDB 10.5.0</a>.</td></tr>
<tr><td><code>-a</code>, <code>--create-options</code></td><td>Include all MariaDB and/or MySQL specific create options in <code>CREATE TABLE</code> statements. Use <code>--skip-create-options</code> to disable.</td></tr>
<tr><td><code>-B</code>, <code>--databases</code></td><td>Dump several databases. Normally, <code>mysqldump</code> treats the first name argument on the command line as a database name and following names as table names. With this option, it treats all name arguments as database names. <a href="https://mariadb.com/kb/en/create-database/">CREATE DATABASE</a> and <a href="https://mariadb.com/kb/en/use/">USE</a> statements are included in the output before each new database.</td></tr>
<tr><td><code class="fixed" style="white-space:pre-wrap">-#, --debug[=#]</code></td><td>If using a debug version of MariaDB, write a debugging log. A typical debug_options string is ´d:t:o,file_name´. The default value is ´d:t:o,/tmp/mysqldump.trace´. If using a non-debug version, <code>mysqldump</code> will catch this and exit.</td></tr>
<tr><td><code>--debug-check</code></td><td>Check memory and open file usage at exit.</td></tr>
<tr><td><code>--debug-info</code></td><td>Print some debug info at exit.</td></tr>
<tr><td><code>--default-auth=name</code></td><td>Default authentication client-side plugin to use.</td></tr>
<tr><td><code>--default-character-set=name</code></td><td>Set the default <a href="https://mariadb.com/kb/en/data-types-character-sets-and-collations/">character set</a> to <em>name</em>. If no character set is specified, until <a href="https://mariadb.com/kb/en/mariadb-10311-release-notes/">MariaDB 10.3.11</a>, <em>mysqldump</em> uses utf8, and from <a href="https://mariadb.com/kb/en/mariadb-10311-release-notes/">MariaDB 10.3.11</a>, uses utf8mb4.</td></tr>
<tr><td><code>--defaults-extra-file=name</code></td><td>Read the file <em>name</em> after the global files are read. Must be given as the first argument.</td></tr>
<tr><td><code>--defaults-file=name</code></td><td>Only read default options from the given file <em>name</em>. Must be given as the first argument.</td></tr>
<tr><td><code>--defaults-group-suffix=str</code></td><td>Also read groups with a suffix of <em>str</em>. For example, since <em>mysqldump</em> normally reads the [client] and [mysqldump] groups, --defaults-group-suffix=x would cause it to also read the groups [mysqldump_x] and [client_x].</td></tr>
<tr><td><code>--delayed-insert</code></td><td>Insert rows with <a href="https://mariadb.com/kb/en/insert-delayed/">INSERT DELAYED</a> instead of <a href="https://mariadb.com/kb/en/insert/">INSERT</a>.</td></tr>
<tr><td><code>--delete-master-logs</code></td><td>On a primary replication server, delete the binary logs by sending a <a href="https://mariadb.com/kb/en/sql-commands-purge-logs/">PURGE BINARY LOGS</a> statement to the server after performing the dump operation. This option automatically enables <code>--master-data</code>.</td></tr>
<tr><td><code>-K</code>, <code>--disable-keys</code></td><td><code class="fixed" style="white-space:pre-wrap">'/*!40000 ALTER TABLE tb_name DISABLE KEYS */;</code> and <code class="fixed" style="white-space:pre-wrap">'/*!40000 ALTER TABLE tb_name ENABLE KEYS */;</code> will be put in the output. This makes loading the dump file faster because the indexes are created after all rows are inserted. This option is effective only for non-unique indexes of MyISAM tables. Disable with <code>--skip-disable-keys</code>.</td></tr>
<tr><td><code>--dump-date</code></td><td>If the <code class="fixed" style="white-space:pre-wrap">--comments</code> option and this option are given, <code>mysqldump</code> produces a comment at the end of the dump of the following form:<br><code>-- Dump completed on DATE</code><br> However, the date causes dump files taken at different times to appear to be different, even if the data are otherwise identical. <code class="fixed" style="white-space:pre-wrap">--dump-date</code> and <code class="fixed" style="white-space:pre-wrap">--skip-dump-date</code> control whether the date is added to the comment. The default is <code class="fixed" style="white-space:pre-wrap">--dump-date</code> (include the date in the comment). <code class="fixed" style="white-space:pre-wrap">--skip-dump-date</code> suppresses date printing.</td></tr>
<tr><td><code>-H</code>, <code>--dump-history</code></td><td>Dump tables with <a href="https://mariadb.com/kb/en/system-versioned-tables/">history</a>. From <a href="https://mariadb.com/kb/en/mariadb-10-11-0-release-notes/">MariaDB 10.11.0</a>. Until this option, <code>mariadb-dump</code> could not read historical rows from versioned tables, and so historical data would not be backed up.</td></tr>
<tr><td><code>--dump-slave[=value]</code></td><td>Used for producing a dump file from a replica server that can be used to set up another replica server with the same primary. Causes the <a href="https://mariadb.com/kb/en/binary-log/">binary log</a> position and filename of the primary to be appended to the dumped data output. Setting the value to <code>1</code> (the default) will print it as a <a href="https://mariadb.com/kb/en/change-master-to/">CHANGE MASTER</a> command in the dumped data output; if set to <code>2</code>, that command will be prefixed with a comment symbol. This option will turn <code>--lock-all-tables</code> on, unless <code>--single-transaction</code> is specified too (in which case a global read lock is only taken a short time at the beginning of the dump - don't forget to read about <code>--single-transaction</code> below). In all cases any action on logs will happen at the exact moment of the dump. Option automatically turns <code>--lock-tables</code> off. Using this option causes mysqldump to stop the replica SQL thread before beginning the dump, and restart it again after completion.</td></tr>
<tr><td><code>-E, --events</code></td><td>Include <a href="https://mariadb.com/kb/en/stored-programs-and-views-events/">Event Scheduler events</a> for the dumped databases in the output.</td></tr>
<tr><td><code>-e</code>, <code>--extended-insert</code></td><td>Use multiple-row <a href="https://mariadb.com/kb/en/insert/">INSERT</a> syntax that include several <code>VALUES</code> lists. This results in a smaller dump file and speeds up inserts when the file is reloaded. Defaults to on; use <code>--skip-extended-insert</code> to disable.</td></tr>
<tr><td><code>--fields-terminated-by=name</code></td><td>Fields in the output file are terminated by the given string. Used with the <code>--tab</code> option and has the same meaning as the corresponding <code>FIELDS</code> clause for <a href="https://mariadb.com/kb/en/load-data-infile/">LOAD DATA INFILE</a>.</td></tr>
<tr><td><code>--fields-enclosed-by=name</code></td><td>Fields in the output file are enclosed by the given character. Used with the <code class="fixed" style="white-space:pre-wrap">--tab</code> option and has the same meaning as the corresponding <code>FIELDS</code> clause for <a href="https://mariadb.com/kb/en/load-data-infile/">LOAD DATA INFILE</a>.</td></tr>
<tr><td><code>--fields-optionally-enclosed-by=name</code></td><td>Fields in the output file are optionally enclosed by the given character. Used with the <code class="fixed" style="white-space:pre-wrap">--tab</code> option and has the same meaning as the corresponding <code>FIELDS</code> clause for <a href="https://mariadb.com/kb/en/load-data-infile/">LOAD DATA INFILE</a>.</td></tr>
<tr><td><code>--fields-escaped-by=name</code></td><td>Fields in the output file are escaped by the given character. Used with the <code class="fixed" style="white-space:pre-wrap">--tab</code> option and has the same meaning as the corresponding <code>FIELDS</code> clause for <a href="https://mariadb.com/kb/en/load-data-infile/">LOAD DATA INFILE</a>.</td></tr>
<tr><td><code>--first-slave</code></td><td>Removed in <a href="https://mariadb.com/kb/en/what-is-mariadb-55/">MariaDB 5.5</a>. Use <code>--lock-all-tables</code> instead.</td></tr>
<tr><td><code>-F</code>, <code>--flush-logs</code></td><td>Flush the MariaDB server log files before starting the dump. This option requires the <code>RELOAD</code> privilege. If you use this option in combination with the <code>--databases=</code> or <code>--all-databases</code> option, the logs are flushed for each database dumped. The exception is when using <code>--lock-all-tables</code>or <code>--master-data</code>: In this case, the logs are flushed only once, corresponding to the moment all tables are locked. If you want your dump and the log flush to happen at the same exact moment, you should use <code>--flush-logs</code> together with either <code>--lock-all-tables</code> or <code>--master-data</code>.</td></tr>
<tr><td><code>--flush-privileges</code></td><td>Send a <a href="https://mariadb.com/kb/en/flush/">FLUSH PRIVILEGES</a> statement to the server after dumping the <a href="https://mariadb.com/kb/en/the-mysql-database-tables/">mysql database</a>. This option should be used any time the dump contains the mysql database and any other database that depends on the data in the mysql database for proper restoration.</td></tr>
<tr><td><code>-f</code>, <code><code>--force</code></code></td><td>Continue even if an SQL error occurs during a table dump.<br><br>One use for this option is to cause <em>mysqldump</em> to continue executing even when it encounters a view that has become invalid because the definition refers to a table that has been dropped. Without <code>--force</code> in this example, <code>mysqldump</code> exits with an error message. With <code>--force</code>, <em>mysqldump</em> prints the error message, but it also writes an SQL comment containing the view definition to the dump output and continues executing.</td></tr>
<tr><td><code>--gtid</code></td><td>Used together with <code>--master-data</code> and <code>--dump-slave</code> to more conveniently set up a new <a href="https://mariadb.com/kb/en/gtid/">GTID</a> replica. It causes those options to output SQL statements that configure the replica to use the <a href="https://mariadb.com/kb/en/global-transaction-id/">global transaction ID</a> to connect to the primary instead of old-style filename/offset positions. The old-style positions are still included in comments when <code>--gtid</code> is used; likewise the GTID position is included in comments even if <code>--gtid</code> is not used.</td></tr>
<tr><td><code>-?</code>, <code>--help</code></td><td>Display a help message and exit.</td></tr>
<tr><td><code>--hex-blob</code></td><td>Dump binary strings in hexadecimal format (for example, <code>´abc´</code> becomes <code>0x616263</code>). The affected data types are <a href="https://mariadb.com/kb/en/binary/">BINARY</a>, <a href="https://mariadb.com/kb/en/varbinary/">VARBINARY</a>, the <a href="https://mariadb.com/kb/en/blob/">BLOB</a> types, and <a href="https://mariadb.com/kb/en/bit/">BIT</a>.</td></tr>
<tr><td><code>-h name</code>, <code>--host=name</code></td><td>Connect to and dump data from the MariaDB or MySQL server on the given host. The default host is <code>localhost</code>.</td></tr>
<tr><td><code>--ignore-database=name</code></td><td>Do not dump the specified database. To specify more than one database to ignore, use the directive multiple times, once for each database. Only takes effect when used together with <code>--all-databases</code> or <code>-A</code>. Added in <a href="https://mariadb.com/kb/en/mariadb-1037-release-notes/">MariaDB 10.3.7</a>.</td></tr>
<tr><td><code>--ignore-table=name</code></td><td>Do not dump the specified table. To specify more than one table to ignore, use the directive multiple times, once for each table. Each table must be specified with both database and table names, e.g., <code>--ignore-table=database.table</code>. This option also can be used to ignore views.</td></tr>
<tr><td><code>--ignore-table-data=name</code></td><td>Do not dump the specified table data (only the structure). To specify more than one table to ignore, use the directive multiple times, once for each table. Each table must be specified with both database and table names. From <a href="https://mariadb.com/kb/en/mariadb-10146-release-notes/">MariaDB 10.1.46</a>, <a href="https://mariadb.com/kb/en/mariadb-10233-release-notes/">MariaDB 10.2.33</a>, <a href="https://mariadb.com/kb/en/mariadb-10324-release-notes/">MariaDB 10.3.24</a>, <a href="https://mariadb.com/kb/en/mariadb-10414-release-notes/">MariaDB 10.4.14</a> and <a href="https://mariadb.com/kb/en/mariadb-1053-release-notes/">MariaDB 10.5.3</a>. See also <code>--no-data</code>.</td></tr>
<tr><td><code>--include-master-host-port</code></td><td>Add the <code>MASTER_HOST</code> and <code>MASTER_PORT</code> options for the <a href="https://mariadb.com/kb/en/change-master-to/">CHANGE MASTER TO</a> statement when using the <code>--dump-slave</code> option for a replica dump.</td></tr>
<tr><td><code>--insert-ignore</code></td><td>Insert rows with <code>INSERT IGNORE</code> instead of <code>INSERT</code>.</td></tr>
<tr><td><code>--lines-terminated-by=name</code></td><td>Lines in the output file are terminated by the given string. This option is used with the <code>--tab</code> option and has the same meaning as the corresponding <code>LINES</code> clause for <a href="https://mariadb.com/kb/en/load-data-infile/">LOAD DATA INFILE</a>.</td></tr>
<tr><td><code>-x</code>, <code>--lock-all-tables</code></td><td>Lock all tables across all databases. This is achieved by acquiring a global read lock for the duration of the whole dump by executing <a href="https://mariadb.com/kb/en/flush/">FLUSH TABLES WITH READ LOCK</a>. This option automatically turns off <code>--single-transaction</code> and <code>--lock-tables</code>.</td></tr>
<tr><td><code>-l</code>, <code>--lock-tables</code></td><td>For each dumped database, lock all tables to be dumped before dumping them. The tables are locked with <code>READ LOCAL</code> to allow concurrent inserts in the case of <a href="https://mariadb.com/kb/en/myisam/">MyISAM</a> tables. For transactional tables such as <a href="https://mariadb.com/kb/en/innodb/">InnoDB</a>, <code>--single-transaction</code> is a much better option than <code>--lock-tables</code> because it does not need to lock the tables at all.<br><br>Because <code>--lock-tables</code> locks tables for each database separately, this option does not guarantee that the tables in the dump file are logically consistent between databases. Tables in different databases may be dumped in completely different states. Use <code>--skip-lock-tables</code> to disable.</td></tr>
<tr><td><code>--log-error=name</code></td><td>Log warnings and errors by appending them to the named file. The default is to do no logging.</td></tr>
<tr><td><code>--log-queries</code></td><td>When restoring the dump, the server will, if logging is turned on, log the queries to the general and <a href="https://mariadb.com/kb/en/slow-query-log/">slow query log</a>. Defaults to on; use --skip-log-queries to disable. Added in <a href="https://mariadb.com/kb/en/mariadb-1011-release-notes/">MariaDB 10.1.1</a>.</td></tr>
<tr><td><code>--master-data[=#]</code></td><td>Causes the <a href="https://mariadb.com/kb/en/binary-log/">binary log</a> position and filename to be appended to the output, useful for dumping a primary replication server to produce a dump file that can be used to set up another server as a replica of the primary. These are the primary server coordinates from which the replica should start replicating after you load the dump file into the replica. If the option is set to 1 (the default), will print it as a <a href="https://mariadb.com/kb/en/change-master-to/">CHANGE MASTER</a> command; if set to 2, that command will be prefixed with a comment symbol. This <code>--master-data</code> option will turn <code>--lock-all-tables</code> on, unless <code>--single-transaction</code> is specified too. Before <a href="https://mariadb.com/kb/en/what-is-mariadb-53/">MariaDB 5.3</a> this would take a global read lock for a short time at the beginning of the dump - see <a href="https://mariadb.com/kb/en/enhancements-for-start-transaction-with-consistent-snapshot/">Enhancements for START TRANSACTION WITH CONSISTENT SNAPSHOT</a> and the <code>--single-transaction</code> option below). In all cases, any action on logs will happen at the exact moment of the dump. This option automatically turns <code>--lock-tables</code> off.<br><br> In all cases, any action on logs happens at the exact moment of the dump.<br><br> It is also possible to set up a replica by dumping an existing replica of the primary. To do this, use the following procedure on the existing replica:<br><br>1. Stop the replica's SQL thread and get its current status:<br><code>mysql&gt; STOP SLAVE SQL_THREAD;</code><br><code>mysql&gt; SHOW SLAVE STATUS;</code><br><br>2. From the output of the SHOW SLAVE STATUS statement, the binary log coordinates of the primary server from which the new replica should start replicating are the values of the Relay_Master_Log_File and Exec_Master_Log_Pos fields. Denote those values as file_name and file_pos.<br><br>2. Dump the replica server:<br><code>shell&gt; mysqldump --master-data=2 --all-databases &gt; dumpfile</code><br><br>3. Restart the replica:<br><code>mysql&gt; START SLAVE;</code><br><br>4. On the new replica, load the dump file:<br><code>shell&gt; mysql &lt; dumpfile</code><br><br>5. On the new replica, set the replication coordinates to those of the primary server obtained earlier:<br><code>mysql&gt; CHANGE MASTER TO MASTER_LOG_FILE = ´file_name´, MASTER_LOG_POS = file_pos;</code><br> The <code>CHANGE MASTER</code> TO statement might also need other parameters, such as MASTER_HOST to point the replica to the correct primary server host. Add any such parameters as necessary.</td></tr>
<tr><td><code>--max-allowed-packet=# </code></td><td>The maximum packet length to send to or receive from server. The maximum is 1GB.</td></tr>
<tr><td><code>--max-statement-time=# </code></td><td>Sets the maximum time any statement can run before being timed out by the server. (Default value is 0 (no limit))</td></tr>
<tr><td><code>--net-buffer-length=# </code></td><td>The initial buffer size for client/server TCP/IP and socket communication. This can be used to limit the size of rows in the dump. When creating multiple-row <code>INSERT</code> statements (as with the <code class="fixed" style="white-space:pre-wrap">--extended-insert</code> or <code class="fixed" style="white-space:pre-wrap">--opt</code> option), <code>mysqldump</code> creates rows up to <code>net_buffer_length</code> length.</td></tr>
<tr><td><code>--no-autocommit</code></td><td>Enclose the <a href="https://mariadb.com/kb/en/insert/">INSERT</a> statements for each dumped table within <a href="https://mariadb.com/kb/en/server-system-variables/#autocommit">SET autocommit = 0</a> and <a href="https://mariadb.com/kb/en/commit/">COMMIT</a> statements.</td></tr>
<tr><td><code>-n</code>, <code>--no-create-db</code></td><td>This option suppresses the <a href="https://mariadb.com/kb/en/create-database/">CREATE DATABASE ... IF EXISTS</a> statement that normally is output for each dumped database if <code>--all-databases</code> or <code>--databases</code> is given.</td></tr>
<tr><td><code>-t</code>, <code>--no-create-info</code></td><td>Do not write <a href="create-tablle">CREATE TABLE</a> statements which re-create each dumped table.</td></tr>
<tr><td><code>-d</code>, <code>--no-data</code></td><td>Do not write any table row information (that is, do not dump table contents). This is useful if you want to dump only the <a href="https://mariadb.com/kb/en/create-table/">CREATE TABLE</a> statement for the table (for example, to create an empty copy of the table by loading the dump file). See also --ignore-table-data .</td></tr>
<tr><td><code>--no-data-med</code></td><td>Do not dump rows for engines that manage external data (i.e. <a href="https://mariadb.com/kb/en/merge/">MRG_MyISAM</a>, MRG_ISAM, <a href="https://mariadb.com/kb/en/connect/">CONNECT</a>, <a href="https://mariadb.com/kb/en/oqgraph-storage-engine/">OQGRAPH</a>, <a href="https://mariadb.com/kb/en/spider/">Spider</a>, VP, <a href="https://mariadb.com/kb/en/federatedx-storage-engine/">Federated</a>). This option is enabled by default. If you want to dump data for these engines, then you would need to set <code>--no-data-med=0</code>.</td></tr>
<tr><td><code>--no-defaults</code></td><td>Don't read default options from any option file. Must be given as the first argument.</td></tr>
<tr><td><code>-N</code>, <code>--no-set-names</code></td><td>Suppress the <code>SET NAMES</code> statement. This has the same effect as <code>--skip-set-charset</code>.</td></tr>
<tr><td><code>--opt</code></td><td>This option is shorthand. It is the same as specifying <code>--add-drop-table</code>, <code>--add-locks</code>, <code>--create-options</code>, <code>--quick</code>, <code>--extended-insert</code>, <code>--lock-tables</code>, <code>--set-charset</code>, and <code>--disable-keys</code>. Enabled by default, disable with <code>--skip-opt</code>. It should give you a fast dump operation and produce a dump file that can be reloaded into a MariaDB server quickly.<br><br>The <code>--opt</code> option is enabled by default. Use <code>--skip-opt</code> to disable it. See the discussion at the beginning of this section for information about selectively enabling or disabling a subset of the options affected by <code>--opt</code>.</td></tr>
<tr><td><code>--order-by-primary</code></td><td>Sorts each table's rows by primary key, or first unique key, if such a key exists. This is useful when dumping a <a href="https://mariadb.com/kb/en/myisam/">MyISAM</a> table to be loaded into an <a href="https://mariadb.com/kb/en/innodb/">InnoDB</a> table, but will make the dump itself take considerably longer.</td></tr>
<tr><td><code>--order-by-size</code></td><td>Dump each table according to their size, smallest first. Useful when using <code>--single-transaction</code> on tables which get truncated/altered often. The assumption here is that smaller tables get truncated more often, and by dumping those first, this reduces the chance that a <code>--single-transaction</code> dump will fail with with 'Table definition has changed, please retry transaction'. From <a href="https://mariadb.com/kb/en/mariadb-1091-release-notes/">MariaDB 10.9.1</a>.</td></tr>
<tr><td><code>-p[passwd]</code>, <code>--password[=passwd</code></td><td>The password to use when connecting to the server. If you use the short option form (<code>-p</code>), you cannot have a space between the option and the password. If you omit the password value following the <code>--password</code> or <code>-p</code> option on the command line, <em>mysqldump</em> prompts for one.<br><br>Specifying a password on the command line should be considered insecure. You can use an option file to avoid giving the password on the command line.</td></tr>
<tr><td><code>-W</code>, <code>--pipe</code></td><td>On Windows, connect to the server via a named pipe. This option applies only if the server supports named-pipe connections.</td></tr>
<tr><td><code>--plugin-dir</code></td><td>Directory for client-side plugins.</td></tr>
<tr><td><code>-P num</code>, <code>--port=num</code></td><td>The TCP/IP port number to use for the connection.</td></tr>
<tr><td><code>--print-defaults</code></td><td>Print the program argument list and exit. Must be given as the first argument.</td></tr>
<tr><td><code>--protocol=name</code></td><td>The connection protocol to use for connecting to the server (TCP, SOCKET, PIPE, MEMORY). It is useful when the other connection parameters normally would cause a protocol to be used other than the one you want.</td></tr>
<tr><td><code>-q</code>, <code>--quick</code></td><td>This option is useful for dumping large tables. It forces <em>mysqldump</em> to retrieve rows for a table from the server a row at a time and to then dump the results directly to stdout rather than retrieving the entire row set and buffering it in memory before writing it out. Defaults to on, use <code>--skip-quick</code> to disable.</td></tr>
<tr><td><code>-Q</code>, <code>--quote-names</code></td><td>Quote identifiers (such as database, table, and column names) within backtick (<code>`</code>) characters. If the <code>ANSI_QUOTES</code> SQL mode is enabled, identifiers are quoted within (<code>"</code>) characters. This option is enabled by default. It can be disabled with <code>--skip-quote-names</code>, but this option should be given after any option such as <code>--compatible</code> that may enable <code>--quote-names</code>.</td></tr>
<tr><td><code>--replace</code></td><td>Use <a href="https://mariadb.com/kb/en/replace/">REPLACE INTO</a> statements instead of <a href="https://mariadb.com/kb/en/insert/">INSERT INTO</a> statements.</td></tr>
<tr><td><code>-r</code>, <code>--result-file=name</code></td><td>Direct output to a given file. This option should be used on Windows to prevent newline <code>"\n"</code> characters from being converted to <code>"\r\n"</code> carriage return/newline sequences. The result file is created and its previous contents overwritten, even if an error occurs while generating the dump.</td></tr>
<tr><td><code>-R</code>, <code>--routines</code></td><td>Include stored routines (<a href="https://mariadb.com/kb/en/stored-procedures/">procedures</a> and <a href="https://mariadb.com/kb/en/stored-functions/">functions</a>) for the dumped databases in the output. Use of this option requires the <code>SELECT</code> privilege for the <a href="https://mariadb.com/kb/en/mysqlproc-table/">mysql.proc</a> table. The output generated using <code>--routines</code> contains <a href="https://mariadb.com/kb/en/create-procedure/">CREATE PROCEDURE</a> and <a href="https://mariadb.com/kb/en/create-function/">CREATE FUNCTION</a> statements to re-create the routines. However, these statements do not include attributes such as the routine creation and modification timestamps. This means that when the routines are reloaded, they will be created with the timestamps equal to the reload time.<br><br>If you require routines to be re-created with their original timestamp attributes, do not use <code>--routines</code>. Instead, dump and reload the contents of the <a href="https://mariadb.com/kb/en/mysqlproc-table/">mysql.proc</a> table directly, using a MariaDB account which has appropriate privileges for the mysql database.<br><br></td></tr>
<tr><td><code>set-charset</code></td><td>Add <code>'SET NAMES default_character_set'</code> to the output in order to set the <a href="https://mariadb.com/kb/en/data-types-character-sets-and-collations/">character set</a>. Enabled by default; suppress with <code>--skip-set-charset</code>.</td></tr>
<tr><td><code class="fixed" style="white-space:pre-wrap">-O, --set-variable=name</code></td><td>Change the value of a variable. Please note that this option is deprecated; you can set variables directly with <code class="fixed" style="white-space:pre-wrap">--variable-name=value</code>.</td></tr>
<tr><td><code>--shared-memory-base-name</code></td><td>Shared-memory name to use for Windows connections using shared memory to a local server (started with the <code>--shared-memory</code> option). Case-sensitive. Defaults to <code>MYSQL</code>.</td></tr>
<tr><td><code>--single-transaction</code></td><td>This option sends a <a href="https://mariadb.com/kb/en/start-transaction/">START TRANSACTION</a> SQL statement to the server before dumping data. It is useful only with transactional tables such as <a href="https://mariadb.com/kb/en/innodb/">InnoDB</a>, because then it dumps the consistent state of the database at the time when <code>BEGIN</code> was issued without blocking any applications.<br><br>When using this option, you should keep in mind that only InnoDB tables are dumped in a consistent state. The single-transaction feature depends not only on the engine being transactional and capable of REPEATABLE-READ, but also on START TRANSACTION WITH CONSISTENT SNAPSHOT. The dump is <strong>not</strong> guaranteed to be consistent for other storage engines. For example, any <a href="https://mariadb.com/kb/en/tokudb/">TokuDB</a>, <a href="https://mariadb.com/kb/en/myisam/">MyISAM</a> or <a href="https://mariadb.com/kb/en/memory-storage-engine/">MEMORY</a> tables dumped while using this option may still change state.<br><br>While a <code>--single-transaction</code> dump is in process, to ensure a valid dump file (correct table contents and binary log coordinates), no other connection should use the following statements: <a href="https://mariadb.com/kb/en/alter-table/">ALTER TABLE</a>, <a href="https://mariadb.com/kb/en/create-table/">CREATE TABLE</a>, <a href="https://mariadb.com/kb/en/drop-table/">DROP TABLE</a>, <a href="https://mariadb.com/kb/en/rename-table/">RENAME TABLE</a>, or <a href="https://mariadb.com/kb/en/truncate-table/">TRUNCATE TABLE</a>. A consistent read is not isolated from those statements, so use of them on a table to be dumped can cause the <code>SELECT</code> (performed by <em>mysqldump</em> to retrieve the table contents) to obtain incorrect contents or fail.<br><br>The <code>--single-transaction</code> option and the <code>--lock-tables</code> option are mutually exclusive because <a href="https://mariadb.com/kb/en/lock-tables-and-unlock-tables/">LOCK TABLES</a> causes any pending transactions to be committed implicitly. So this option automatically turns off <code>--lock-tables</code><br><br>To dump large tables, you should combine the <code>--single-transaction</code> option with <code>--quick</code>.</td></tr>
<tr><td><code>--skip-add-locks</code></td><td>Disable the <code>--add-locks</code> option.</td></tr>
<tr><td><code>--skip-comments</code></td><td>Disable the <code>--comments</code> option.</td></tr>
<tr><td><code>--skip-disable-keys</code></td><td>Disable the <code>--disable-keys</code> option.</td></tr>
<tr><td><code>--skip-extended-insert</code></td><td>Disable the <code>--extended-insert</code> option.</td></tr>
<tr><td><code>--skip-opt</code></td><td>Disable the <code>--opt</code> option (disables <code>--add-drop-table</code>, <code>--add-locks</code>, <code>--create-options</code>, <code>--quick</code>, <code>--extended-insert</code>, <code>--lock-tables</code>, <code>--set-charset</code>, and <code>--disable-keys</code>).</td></tr>
<tr><td><code>--skip-quick</code></td><td>Disable the <code>--quick</code> option.</td></tr>
<tr><td><code>--skip-quote-name</code></td><td>Disable the <code>--quote-names</code> option.</td></tr>
<tr><td><code>--skip-set-charset</code></td><td>Disable the <code>--set-charset</code> option.</td></tr>
<tr><td><code>--skip-triggers</code></td><td>Disable the <code>--triggers</code> option.</td></tr>
<tr><td><code>--skip-tz-utc</code></td><td>Disable the <code>--tz-utc</code> option.</td></tr>
<tr><td><code>-S name</code>, <code>--socket=name</code></td><td>For connections to localhost, the Unix socket file to use, or, on Windows, the name of the named pipe to use.</td></tr>
<tr><td><code>--ssl</code></td><td>Enables <a href="https://mariadb.com/kb/en/data-in-transit-encryption/">TLS</a>. TLS is also enabled even without setting this option when certain other TLS options are set. Starting with <a href="https://mariadb.com/kb/en/what-is-mariadb-102/">MariaDB 10.2</a>, the <code>--ssl</code> option will not enable <a href="https://mariadb.com/kb/en/secure-connections-overview/#server-certificate-verification">verifying the server certificate</a> by default. In order to verify the server certificate, the user must specify the <code>--ssl-verify-server-cert</code> option.</td></tr>
<tr><td><code>--ssl-ca=name</code></td><td>Defines a path to a PEM file that should contain one or more X509 certificates for trusted Certificate Authorities (CAs) to use for <a href="https://mariadb.com/kb/en/data-in-transit-encryption/">TLS</a>. This option requires that you use the absolute path, not a relative path. See <a href="https://mariadb.com/kb/en/secure-connections-overview/#certificate-authorities-cas">Secure Connections Overview: Certificate Authorities (CAs)</a> for more information. This option implies the <code>--ssl</code> option.</td></tr>
<tr><td><code>--ssl-capath=name</code></td><td>Defines a path to a directory that contains one or more PEM files that should each contain one X509 certificate for a trusted Certificate Authority (CA) to use for <a href="https://mariadb.com/kb/en/data-in-transit-encryption/">TLS</a>. This option requires that you use the absolute path, not a relative path. The directory specified by this option needs to be run through the <code><a href="https://www.openssl.org/docs/man1.1.1/man1/rehash.html">openssl rehash</a></code> command. See <a href="https://mariadb.com/kb/en/secure-connections-overview/#certificate-authorities-cas">Secure Connections Overview: Certificate Authorities (CAs)</a> for more information. This option is only supported if the client was built with OpenSSL or yaSSL. If the client was built with GnuTLS or Schannel, then this option is not supported. See <a href="https://mariadb.com/kb/en/tls-and-cryptography-libraries-used-by-mariadb/">TLS and Cryptography Libraries Used by MariaDB</a> for more information about which libraries are used on which platforms. This option implies the <code>--ssl</code> option.</td></tr>
<tr><td><code>--ssl-cert=name</code></td><td>Defines a path to the X509 certificate file to use for <a href="https://mariadb.com/kb/en/data-in-transit-encryption/">TLS</a>. This option requires that you use the absolute path, not a relative path. This option implies the <code>--ssl</code> option.</td></tr>
<tr><td><code>--ssl-cipher=name</code></td><td>List of permitted ciphers or cipher suites to use for <a href="https://mariadb.com/kb/en/data-in-transit-encryption/">TLS</a>. This option implies the <code>--ssl</code> option.</td></tr>
<tr><td><code>--ssl-crl=name</code></td><td>Defines a path to a PEM file that should contain one or more revoked X509 certificates to use for <a href="https://mariadb.com/kb/en/data-in-transit-encryption/">TLS</a>. This option requires that you use the absolute path, not a relative path. See <a href="https://mariadb.com/kb/en/secure-connections-overview/#certificate-revocation-lists-crls">Secure Connections Overview: Certificate Revocation Lists (CRLs)</a> for more information. This option is only supported if the client was built with OpenSSL or Schannel. If the client was built with yaSSL or GnuTLS, then this option is not supported. See <a href="https://mariadb.com/kb/en/tls-and-cryptography-libraries-used-by-mariadb/">TLS and Cryptography Libraries Used by MariaDB</a> for more information about which libraries are used on which platforms.</td></tr>
<tr><td><code>--ssl-crlpath=name</code></td><td>Defines a path to a directory that contains one or more PEM files that should each contain one revoked X509 certificate to use for <a href="https://mariadb.com/kb/en/data-in-transit-encryption/">TLS</a>. This option requires that you use the absolute path, not a relative path. The directory specified by this option needs to be run through the <code><a href="https://www.openssl.org/docs/man1.1.1/man1/rehash.html">openssl rehash</a></code> command. See <a href="https://mariadb.com/kb/en/secure-connections-overview/#certificate-revocation-lists-crls">Secure Connections Overview: Certificate Revocation Lists (CRLs)</a> for more information. This option is only supported if the client was built with OpenSSL. If the client was built with yaSSL, GnuTLS, or Schannel, then this option is not supported. See <a href="https://mariadb.com/kb/en/tls-and-cryptography-libraries-used-by-mariadb/">TLS and Cryptography Libraries Used by MariaDB</a> for more information about which libraries are used on which platforms.</td></tr>
<tr><td><code>--ssl-key=name</code></td><td>Defines a path to a private key file to use for <a href="https://mariadb.com/kb/en/data-in-transit-encryption/">TLS</a>. This option requires that you use the absolute path, not a relative path. This option implies the <code>--ssl</code> option.</td></tr>
<tr><td><code>--ssl-verify-server-cert</code></td><td>Enables <a href="https://mariadb.com/kb/en/secure-connections-overview/#server-certificate-verification">server certificate verification</a>. This option is disabled by default.</td></tr>
<tr><td><code>--system=option[,option]]</code></td><td>Dump the database's system tables in a logical form. With this option, the <a href="https://mariadb.com/kb/en/the-mysql-database-tables/">mysql database</a> tables are dumped as <a href="https://mariadb.com/kb/en/create-user/">CREATE USER</a>, <a href="https://mariadb.com/kb/en/create-server/">CREATE SERVER</a> and other forms of logical portable SQL statements. The option values here are from the set of <code>all</code>, <code>users</code>, <code>plugins</code>, <code>udfs</code>, <code>servers</code>, <code>stats</code>, <code>timezones</code>. From <a href="https://mariadb.com/kb/en/mariadb-10237-release-notes/">MariaDB 10.2.37</a>, <a href="https://mariadb.com/kb/en/mariadb-10328-release-notes/">MariaDB 10.3.28</a>, <a href="https://mariadb.com/kb/en/mariadb-10418-release-notes/">MariaDB 10.4.18</a> and <a href="https://mariadb.com/kb/en/mariadb-1059-release-notes/">MariaDB 10.5.9</a>.</td></tr>
<tr><td><code>-T</code>, <code>--tab=name</code></td><td>Produce tab-separated text-format data files. With this option, for each dumped table <code>mysqldump</code> will create a <code>tbl_name.sql</code> file containing the <code>CREATE TABLE</code> statement that creates the table, and a <code>tbl_name.txt</code> file containing the table's data. The option value is the directory in which to write the files.<br><br><strong>Note:</strong> <em>This option can only be used when </em>mysqldump/ is run on the same machine as the mysqld server. You must have the <code>FILE</code> privilege, and the server must have permission to write files in the directory that you specify.<em><br><br>By default, the <code>.txt</code> data files are formatted using tab characters between column values and a newline at the end of each line. The format can be specified explicitly using the <code>--fields-xxx</code> and <code>--lines-terminated-by</code> options.<br><br> Column values are converted to the character set specified by the <code>--default-character-set</code> option.</em></td></tr>
<tr><td><code>--tables</code></td><td>This option overrides the <code>--databases</code> (<code>-B</code>) option. <em>mysqldump</em> regards all name arguments following the option as table names.</td></tr>
<tr><td><code>--tls-version=name</code></td><td>This option accepts a comma-separated list of TLS protocol versions. A TLS protocol version will only be enabled if it is present in this list. All other TLS protocol versions will not be permitted. See <a href="https://mariadb.com/kb/en/secure-connections-overview/#tls-protocol-versions">Secure Connections Overview: TLS Protocol Versions</a> for more information. This option was added in <a href="https://mariadb.com/kb/en/mariadb-1046-release-notes/">MariaDB 10.4.6</a>.</td></tr>
<tr><td><code>--triggers</code></td><td>Include <a href="https://mariadb.com/kb/en/triggers/">triggers</a> for each dumped table in the output. This option is enabled by default; disable it with <code>--skip-triggers</code>.</td></tr>
<tr><td><code>--tz-utc</code></td><td>This option enables <a href="https://mariadb.com/kb/en/timestamp/">TIMESTAMP</a> columns to be dumped and reloaded between servers in different time zones. <em>mysqldump</em> sets its connection time zone to UTC and adds <code>SET TIME_ZONE=´+00:00´</code> to the dump file. Without this option, TIMESTAMP columns are dumped and reloaded in the time zones local to the source and destination servers, which can cause the values to change if the servers are in different time zones. <code>--tz-utc</code> also protects against changes due to daylight saving time. <code>--tz-utc</code> is enabled by default. To disable it, use <code>--skip-tz-utc</code>.</td></tr>
<tr><td><code>-u name</code>, <code>--user=name</code></td><td>The MariaDB user name to use when connecting to the server.</td></tr>
<tr><td><code>-v</code>, <code>--verbose</code></td><td>Verbose mode. Print more information about what the program is doing during various stages.</td></tr>
<tr><td><code>-V</code>, <code>--version</code></td><td>Output version information and exit.</td></tr>
<tr><td><code>-w cond</code>, <code>--where=cond</code></td><td>Dump only rows selected by the given <code>WHERE</code> condition <em>cond</em>. Quotes around the condition are mandatory if it contains spaces or other characters that are special to your command interpreter.<br><br>Examples:<br><code>--where="user=´jimf´"</code><br> <code>-w"userid&gt;1"</code><br> <code>-w"userid&lt;1"</code></td></tr>
<tr><td><code>-X</code>, <code>--xml</code></td><td>Dump a database as well formed XML.</td></tr>
</tbody></table>
